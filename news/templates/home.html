{% extends 'base.html' %}
{% load static %}

{% block title %}Home Page{% endblock %}

{% block content %}
<header class="bg-light text-center py-5 mb-4 border-bottom">
    <div class="container">
        <h1 class="display-4 mb-3">Welcome to Amaral News!</h1>
        <p class="lead mb-4">
            Amaral News is your premier destination for real-time updates and comprehensive coverage across a wide range of topics. Our mission is to keep you informed with the latest news and insights from around the globe.
        </p>
        <p class="text-muted mb-4">
            Established to deliver accurate and timely information, Amaral News brings you breaking news, in-depth reports, and expert analysis. From the latest global events to local stories that matter, we cover:
        </p>
    </div>
</header>

<section class="container mb-5">
    <h3 class="section-title mb-4">In the Spotlight</h3>
    <div id="newsCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for news in news_list %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img src="{{news.image_url}}" class="d-block w-100 carousel-img" alt="{{ news.title }}">
                    <!-- <img src="{% static news.image_url %}" class="d-block w-100 carousel-img" alt="{{ news.title }}"> -->
                    <div class="carousel-caption d-none d-md-block">
                        <h5>{{ news.title }}</h5>
                        <!-- Display the first 100 characters of the first paragraph -->
                        <p>{{ news.content.0|slice:":100" }}...</p>
                        <a href="/news/{{ news.slug }}/" class="btn btn-light">Read More</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#newsCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#newsCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</section>

<!-- News Cards Section -->
<section class="container mb-5">
    <h3 class="section-title mb-4">Today's News</h3>
    <div class="row">
        {% for news in news_list %}
            <div class="col-md-4 mb-4">
                <div class="card h-100">
                    <img src="{{news.image_url}}" class="card-img-top" alt="{{ news.title }}">
                    <div class="card-body">
                        <h5 class="card-title">{{ news.title|slice:":80" }}...</h5>
                        <!-- Display the first 100 characters of the first paragraph -->
                        <p class="card-text">{{ news.content.0|slice:":100" }}...</p>
                        <a href="/news/{{ news.slug }}/" class="btn btn-outline-dark">Read More</a>
                    </div>
                    <div class="card-footer text-muted">
                        <small>Published on {{ news.date_published|date:"F j, Y" }}</small>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No news available at the moment.</p>
        {% endfor %}
    </div>
</section>

{% endblock %}
